/**
 * WebMan Shortcode Generator button
 *
 * @package     WebMan Amplifier
 * @subpackage  Shortcodes
 *
 * @since       1.0
 */

(function(){tinymce.create("tinymce.plugins.wmShortcodes",{createControl:function(e,t){if("wm_shortcodes_list"==e){var n="undefined"===typeof wmShortcodesAssetsURL?"":wmShortcodesAssetsURL,r=t.createSplitButton("wm_shortcodes_list",{title:"Shortcode",image:n+"img/shortcodes/shortcodes-button.png"});r.onRenderMenu.add(function(e,t){wmShortcodesArray="undefined"===typeof wmShortcodesArray?[{name:"Shortcode",code:"","class":""}]:wmShortcodesArray;for(var n in wmShortcodesArray){t.add({title:wmShortcodesArray[n]["name"],id:"wm"+("0"+n).slice(-2)+"_"+wmShortcodesArray[n]["class"],"class":wmShortcodesArray[n]["class"],onclick:function(e){var t=jQuery(e).attr("id");t=parseInt(t.substring(2,4));if(""!=tinyMCE.activeEditor.selection.getContent()){var n=wmShortcodesArray[t]["code"].replace("{{content}}",tinyMCE.activeEditor.selection.getContent());tinyMCE.activeEditor.selection.setContent(n)}else{var n=wmShortcodesArray[t]["code"].replace("{{content}}","TEXT");tinyMCE.activeEditor.selection.setContent(n)}}})}});return r}if("wm_shortcodes_list_vc"==e&&"undefined"!=typeof wmShortcodesArrayVC){var n="undefined"===typeof wmShortcodesAssetsURL?"":wmShortcodesAssetsURL,r=t.createSplitButton("wm_shortcodes_list_vc",{title:"Shortcode",image:n+"img/shortcodes/shortcodes-button.png"});r.onRenderMenu.add(function(e,t){for(var n in wmShortcodesArrayVC){t.add({title:wmShortcodesArrayVC[n]["name"],id:"wm"+("0"+n).slice(-2)+"_"+wmShortcodesArrayVC[n]["class"],"class":wmShortcodesArrayVC[n]["class"],onclick:function(e){var t=jQuery(e).attr("id");t=parseInt(t.substring(2,4));if(""!=tinyMCE.activeEditor.selection.getContent()){var n=wmShortcodesArrayVC[t]["code"].replace("{{content}}",tinyMCE.activeEditor.selection.getContent());tinyMCE.activeEditor.selection.setContent(n)}else{var n=wmShortcodesArrayVC[t]["code"].replace("{{content}}","TEXT");tinyMCE.activeEditor.selection.setContent(n)}}})}});return r}return null},getInfo:function(){return{longname:"Shortcode Generator",author:"WebMan - www.webmandesign.eu",authorurl:"http://www.webmandesign.eu",infourl:"",version:"1.0"}}});tinymce.PluginManager.add("wmShortcodes",tinymce.plugins.wmShortcodes)})()